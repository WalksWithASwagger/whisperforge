2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | main:140 | 🔧 Creating Missing Database Tables
2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | main:141 | ==================================================
2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | main:148 | ✅ Supabase client initialized
2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | main:151 | 
📋 Creating Tables:
2025-06-12 09:42:29 | [31mERROR[0m | whisperforge | create_prompts_table:36 | ❌ Failed to create prompts table: {'message': 'Could not find the function public.exec_sql(sql) in the schema cache', 'code': 'PGRST202', 'hint': None, 'details': 'Searched for the function public.exec_sql with parameter sql or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.'}
2025-06-12 09:42:29 | [31mERROR[0m | whisperforge | create_api_keys_table:64 | ❌ Failed to create api_keys table: {'message': 'Could not find the function public.exec_sql(sql) in the schema cache', 'code': 'PGRST202', 'hint': None, 'details': 'Searched for the function public.exec_sql with parameter sql or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.'}
2025-06-12 09:42:29 | [31mERROR[0m | whisperforge | create_sessions_table:99 | ❌ Failed to create sessions table: {'message': 'Could not find the function public.exec_sql(sql) in the schema cache', 'code': 'PGRST202', 'hint': None, 'details': 'Searched for the function public.exec_sql with parameter sql or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.'}
2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | main:156 | 
🧪 Testing Table Access:
2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | test_table_creation:108 | ✅ Prompts table accessible
2025-06-12 09:42:29 | [32mINFO[0m | whisperforge | test_table_creation:115 | ✅ API keys table accessible
2025-06-12 09:42:29 | [31mERROR[0m | whisperforge | test_table_creation:124 | ❌ Sessions table test failed: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 09:44:08 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 09:44:09 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 09:44:09 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 09:44:09 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for whisperforge
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 10:19:49 | [33mWARNING[0m | whisperforge | authenticate_user:63 | User not found: test@example.com
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 10:19:49 | [33mWARNING[0m | whisperforge | authenticate_user:63 | User not found: nonexistent@example.com
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:49 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for whisperforge
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | log_pipeline_step:78 | 🔄 Pipeline step started: test_step
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | log_pipeline_step:80 | ✅ Pipeline step completed: test_step
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_pipeline_step:82 | ❌ Pipeline step failed: test_step
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_pipeline_step:84 | Error details: Test error
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | log_file_upload:91 | 📁 File uploaded: test.wav (1.5MB, audio/wav)
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test context
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 32, in test_logging_functionality
    raise ValueError("Test error")
ValueError: Test error

2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error for logging
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test error context
2025-06-12 10:19:49 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 167, in test_logging_error_handling
    raise ValueError("Test error for logging")
ValueError: Test error for logging

2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:50 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 404, 'hint': 'Refer to full message for details', 'details': "b'{}'"}
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | _validate_session:257 | Session expired: 57b4e99f-6be4-4345-ace6-12227a45c5e1
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 404, 'hint': 'Refer to full message for details', 'details': "b'{}'"}
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | authenticate_user:334 | Session persisted in memory only for test@example.com
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | logout:353 | Failed to delete session from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | logout:369 | User logged out successfully
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:51 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:51 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:52 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 10:19:52 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'relation "public.sessions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 10:19:52 | [33mWARNING[0m | whisperforge | authenticate_user:63 | User not found: nonexistent@example.com
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 10:19:52 | [33mWARNING[0m | whisperforge | authenticate_user:105 | Invalid password for user: test@example.com
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 10:19:52 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 10:20:15 | [31mERROR[0m | whisperforge | main:136 | ❌ Missing required environment variables: SUPABASE_ANON_KEY
2025-06-12 10:20:15 | [31mERROR[0m | whisperforge | main:137 | Please set them before running this script.
2025-06-12 11:41:56 | [31mERROR[0m | whisperforge | main:136 | ❌ Missing required environment variables: SUPABASE_ANON_KEY
2025-06-12 11:41:56 | [31mERROR[0m | whisperforge | main:137 | Please set them before running this script.
2025-06-12 11:42:36 | [32mINFO[0m | whisperforge | main:145 | 🔧 Creating Missing Database Tables
2025-06-12 11:42:36 | [32mINFO[0m | whisperforge | main:146 | ==================================================
2025-06-12 11:42:36 | [32mINFO[0m | whisperforge | main:153 | ✅ Supabase client initialized
2025-06-12 11:42:36 | [32mINFO[0m | whisperforge | main:156 | 
📋 Creating Tables:
2025-06-12 11:42:44 | [31mERROR[0m | whisperforge | create_prompts_table:36 | ❌ Failed to create prompts table: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:42:48 | [31mERROR[0m | whisperforge | create_api_keys_table:64 | ❌ Failed to create api_keys table: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:42:51 | [31mERROR[0m | whisperforge | create_sessions_table:99 | ❌ Failed to create sessions table: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:42:51 | [32mINFO[0m | whisperforge | main:161 | 
🧪 Testing Table Access:
2025-06-12 11:43:04 | [31mERROR[0m | whisperforge | test_table_creation:110 | ❌ Prompts table test failed: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:43:28 | [31mERROR[0m | whisperforge | test_table_creation:117 | ❌ API keys table test failed: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:43:31 | [31mERROR[0m | whisperforge | test_table_creation:124 | ❌ Sessions table test failed: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:00 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:00 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:00 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:00 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 11:56:13 | [31mERROR[0m | whisperforge | log_error:144 | 💥 APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:13 | [31mERROR[0m | whisperforge | log_error:146 | Context: Authentication error for test@example.com
2025-06-12 11:56:13 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 77, in execute
    json_obj = APIErrorFromJSON.model_validate_json(r.content)
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/pydantic/main.py", line 746, in model_validate_json
    return cls.__pydantic_validator__.validate_json(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        json_data, strict=strict, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for APIErrorFromJSON
  Invalid JSON: expected value at line 1 column 1 [type=json_invalid, input_value=b'Project not specified.', input_type=bytes]
    For further information visit https://errors.pydantic.dev/2.11/v/json_invalid

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/core/auth_wrapper.py", line 60, in authenticate_user
    result = self.supabase_client.client.table("users").select("*").eq("email", email).execute()
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 80, in execute
    raise APIError(generate_default_error_message(r))
postgrest.exceptions.APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}

2025-06-12 11:56:13 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:13 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:13 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 11:56:21 | [31mERROR[0m | whisperforge | log_error:144 | 💥 APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:21 | [31mERROR[0m | whisperforge | log_error:146 | Context: Authentication error for nonexistent@example.com
2025-06-12 11:56:21 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 77, in execute
    json_obj = APIErrorFromJSON.model_validate_json(r.content)
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/pydantic/main.py", line 746, in model_validate_json
    return cls.__pydantic_validator__.validate_json(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        json_data, strict=strict, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for APIErrorFromJSON
  Invalid JSON: expected value at line 1 column 1 [type=json_invalid, input_value=b'Project not specified.', input_type=bytes]
    For further information visit https://errors.pydantic.dev/2.11/v/json_invalid

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/core/auth_wrapper.py", line 60, in authenticate_user
    result = self.supabase_client.client.table("users").select("*").eq("email", email).execute()
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 80, in execute
    raise APIError(generate_default_error_message(r))
postgrest.exceptions.APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}

2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:21 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:56:24 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for whisperforge
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | log_pipeline_step:78 | 🔄 Pipeline step started: test_step
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | log_pipeline_step:80 | ✅ Pipeline step completed: test_step
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_pipeline_step:82 | ❌ Pipeline step failed: test_step
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_pipeline_step:84 | Error details: Test error
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | log_file_upload:91 | 📁 File uploaded: test.wav (1.5MB, audio/wav)
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test context
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 32, in test_logging_functionality
    raise ValueError("Test error")
ValueError: Test error

2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error for logging
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test error context
2025-06-12 11:56:24 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 167, in test_logging_error_handling
    raise ValueError("Test error for logging")
ValueError: Test error for logging

2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:24 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:26 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:56:29 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:29 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:56:29 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:56:29 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:29 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:29 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:56:33 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:33 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:56:33 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:56:36 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:36 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 11:56:36 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:36 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:36 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:56:40 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:40 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:56:40 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:56:40 | [32mINFO[0m | whisperforge | _validate_session:257 | Session expired: c4081963-0b33-4964-a10e-2c1863de2283
2025-06-12 11:56:40 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:40 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:40 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:56:43 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:43 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:56:43 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:56:46 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:46 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 11:56:46 | [33mWARNING[0m | whisperforge | authenticate_user:334 | Session persisted in memory only for test@example.com
2025-06-12 11:56:49 | [33mWARNING[0m | whisperforge | logout:353 | Failed to delete session from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:56:49 | [32mINFO[0m | whisperforge | logout:369 | User logged out successfully
2025-06-12 11:56:49 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:56:49 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:56:49 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:57:01 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:57:01 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:57:01 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:57:01 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:01 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:01 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:57:04 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:57:04 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:57:04 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:57:04 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:04 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:04 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 11:57:17 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 11:57:17 | [33mWARNING[0m | whisperforge | authenticate_user:63 | User not found: nonexistent@example.com
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 11:57:17 | [33mWARNING[0m | whisperforge | authenticate_user:105 | Invalid password for user: test@example.com
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:17 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 11:57:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:42:55 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:42:55 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:42:55 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:42:55 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:42:55 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:42:55 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 12:43:04 | [31mERROR[0m | whisperforge | log_error:144 | 💥 APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:04 | [31mERROR[0m | whisperforge | log_error:146 | Context: Authentication error for test@example.com
2025-06-12 12:43:04 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 77, in execute
    json_obj = APIErrorFromJSON.model_validate_json(r.content)
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/pydantic/main.py", line 746, in model_validate_json
    return cls.__pydantic_validator__.validate_json(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        json_data, strict=strict, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for APIErrorFromJSON
  Invalid JSON: expected value at line 1 column 1 [type=json_invalid, input_value=b'Project not specified.', input_type=bytes]
    For further information visit https://errors.pydantic.dev/2.11/v/json_invalid

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/core/auth_wrapper.py", line 60, in authenticate_user
    result = self.supabase_client.client.table("users").select("*").eq("email", email).execute()
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 80, in execute
    raise APIError(generate_default_error_message(r))
postgrest.exceptions.APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}

2025-06-12 12:43:04 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:04 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:04 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 12:43:07 | [31mERROR[0m | whisperforge | log_error:144 | 💥 APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:07 | [31mERROR[0m | whisperforge | log_error:146 | Context: Authentication error for nonexistent@example.com
2025-06-12 12:43:07 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 77, in execute
    json_obj = APIErrorFromJSON.model_validate_json(r.content)
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/pydantic/main.py", line 746, in model_validate_json
    return cls.__pydantic_validator__.validate_json(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        json_data, strict=strict, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for APIErrorFromJSON
  Invalid JSON: expected value at line 1 column 1 [type=json_invalid, input_value=b'Project not specified.', input_type=bytes]
    For further information visit https://errors.pydantic.dev/2.11/v/json_invalid

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/core/auth_wrapper.py", line 60, in authenticate_user
    result = self.supabase_client.client.table("users").select("*").eq("email", email).execute()
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 80, in execute
    raise APIError(generate_default_error_message(r))
postgrest.exceptions.APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}

2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:07 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:43:18 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for whisperforge
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | log_pipeline_step:78 | 🔄 Pipeline step started: test_step
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | log_pipeline_step:80 | ✅ Pipeline step completed: test_step
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_pipeline_step:82 | ❌ Pipeline step failed: test_step
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_pipeline_step:84 | Error details: Test error
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | log_file_upload:91 | 📁 File uploaded: test.wav (1.5MB, audio/wav)
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test context
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 32, in test_logging_functionality
    raise ValueError("Test error")
ValueError: Test error

2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error for logging
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test error context
2025-06-12 12:43:18 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 167, in test_logging_error_handling
    raise ValueError("Test error for logging")
ValueError: Test error for logging

2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:19 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:20 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:43:33 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:33 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:43:33 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:43:33 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:33 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:33 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:43:36 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:36 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:43:36 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:43:45 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:45 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 12:43:45 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:45 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:45 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:43:48 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:48 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:43:48 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:43:48 | [32mINFO[0m | whisperforge | _validate_session:257 | Session expired: ba05e1e9-ebd8-46fc-bb6e-1f4314a39215
2025-06-12 12:43:48 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:43:48 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:43:48 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:43:57 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:43:57 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:43:57 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:44:00 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:44:00 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 12:44:00 | [33mWARNING[0m | whisperforge | authenticate_user:334 | Session persisted in memory only for test@example.com
2025-06-12 12:44:15 | [33mWARNING[0m | whisperforge | logout:353 | Failed to delete session from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:44:15 | [32mINFO[0m | whisperforge | logout:369 | User logged out successfully
2025-06-12 12:44:15 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:15 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:15 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:44:18 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:44:18 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:44:18 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:44:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:18 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:44:22 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:44:22 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:44:22 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:44:22 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:22 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:22 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:44:25 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 12:44:25 | [33mWARNING[0m | whisperforge | authenticate_user:63 | User not found: nonexistent@example.com
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 12:44:25 | [33mWARNING[0m | whisperforge | authenticate_user:105 | Invalid password for user: test@example.com
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:44:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:44:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:46:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:46:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:46:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:46:18 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:46:18 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:46:18 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 12:46:56 | [31mERROR[0m | whisperforge | log_error:144 | 💥 APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:46:56 | [31mERROR[0m | whisperforge | log_error:146 | Context: Authentication error for test@example.com
2025-06-12 12:46:56 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 77, in execute
    json_obj = APIErrorFromJSON.model_validate_json(r.content)
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/pydantic/main.py", line 746, in model_validate_json
    return cls.__pydantic_validator__.validate_json(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        json_data, strict=strict, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for APIErrorFromJSON
  Invalid JSON: expected value at line 1 column 1 [type=json_invalid, input_value=b'Project not specified.', input_type=bytes]
    For further information visit https://errors.pydantic.dev/2.11/v/json_invalid

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/core/auth_wrapper.py", line 60, in authenticate_user
    result = self.supabase_client.client.table("users").select("*").eq("email", email).execute()
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 80, in execute
    raise APIError(generate_default_error_message(r))
postgrest.exceptions.APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}

2025-06-12 12:46:56 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:46:56 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:46:56 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 12:47:35 | [31mERROR[0m | whisperforge | log_error:144 | 💥 APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:47:35 | [31mERROR[0m | whisperforge | log_error:146 | Context: Authentication error for nonexistent@example.com
2025-06-12 12:47:35 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 77, in execute
    json_obj = APIErrorFromJSON.model_validate_json(r.content)
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/pydantic/main.py", line 746, in model_validate_json
    return cls.__pydantic_validator__.validate_json(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        json_data, strict=strict, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 1 validation error for APIErrorFromJSON
  Invalid JSON: expected value at line 1 column 1 [type=json_invalid, input_value=b'Project not specified.', input_type=bytes]
    For further information visit https://errors.pydantic.dev/2.11/v/json_invalid

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/core/auth_wrapper.py", line 60, in authenticate_user
    result = self.supabase_client.client.table("users").select("*").eq("email", email).execute()
  File "/Users/kk/Code/whisperforge--prime/venv/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 80, in execute
    raise APIError(generate_default_error_message(r))
postgrest.exceptions.APIError: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}

2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:47:35 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:48:25 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for whisperforge
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | log_pipeline_step:78 | 🔄 Pipeline step started: test_step
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | log_pipeline_step:80 | ✅ Pipeline step completed: test_step
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_pipeline_step:82 | ❌ Pipeline step failed: test_step
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_pipeline_step:84 | Error details: Test error
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | log_file_upload:91 | 📁 File uploaded: test.wav (1.5MB, audio/wav)
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test context
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 32, in test_logging_functionality
    raise ValueError("Test error")
ValueError: Test error

2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_error:144 | 💥 ValueError: Test error for logging
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_error:146 | Context: Test error context
2025-06-12 12:48:25 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/tests/test_basic_functionality.py", line 167, in test_logging_error_handling
    raise ValueError("Test error for logging")
ValueError: Test error for logging

2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:25 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:48:27 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:50:08 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:50:08 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:50:08 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:50:08 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:50:08 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:50:08 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:50:34 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:50:34 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:50:34 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:50:37 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:50:37 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 12:50:37 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:50:37 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:50:37 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:50:48 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:50:48 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:50:48 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:50:48 | [32mINFO[0m | whisperforge | _validate_session:257 | Session expired: 858a0ce5-d580-469c-b8b3-ffb0b9e422b5
2025-06-12 12:50:48 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:50:48 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:50:48 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:50:51 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:50:51 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:50:51 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:51:01 | [33mWARNING[0m | whisperforge | _persist_session:171 | Supabase session storage failed, trying local fallback: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:51:01 | [33mWARNING[0m | whisperforge | _persist_session:187 | No session storage available - session will not persist
2025-06-12 12:51:01 | [33mWARNING[0m | whisperforge | authenticate_user:334 | Session persisted in memory only for test@example.com
2025-06-12 12:51:04 | [33mWARNING[0m | whisperforge | logout:353 | Failed to delete session from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:51:04 | [32mINFO[0m | whisperforge | logout:369 | User logged out successfully
2025-06-12 12:51:04 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:04 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:04 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:51:12 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:51:12 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:51:12 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:51:12 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:12 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:12 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:51:26 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:51:26 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:51:26 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:51:26 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:26 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:26 | [32mINFO[0m | whisperforge | __init__:100 | SessionManager using Supabase storage
2025-06-12 12:51:30 | [33mWARNING[0m | whisperforge | _restore_session:215 | Failed to restore from Supabase: {'message': 'JSON could not be generated', 'code': 400, 'hint': 'Refer to full message for details', 'details': "b'Project not specified.'"}
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | _init_session_tracking:133 | New session created
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | __init__:118 | SessionManager initialized for test_app
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: nonexistent@example.com
2025-06-12 12:51:30 | [33mWARNING[0m | whisperforge | authenticate_user:63 | User not found: nonexistent@example.com
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | authenticate_user:53 | Authentication attempt for: test@example.com
2025-06-12 12:51:30 | [33mWARNING[0m | whisperforge | authenticate_user:105 | Invalid password for user: test@example.com
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:164 | 🧪 Starting test session
2025-06-12 12:51:30 | [32mINFO[0m | whisperforge | setup_logging:166 | 🧪 Test session completed
2025-06-12 15:16:57 | [32mINFO[0m | whisperforge | register_user:172 | User registered successfully: test@whisperforge.dev
2025-06-12 15:16:57 | [32mINFO[0m | whisperforge | register_user:176 | Session created for new user: test@whisperforge.dev
2025-06-12 15:16:57 | [32mINFO[0m | whisperforge | authenticate_user:86 | Authentication attempt for: test@whisperforge.dev
2025-06-12 15:16:57 | [32mINFO[0m | whisperforge | authenticate_user:128 | User authenticated successfully: test@whisperforge.dev
2025-06-12 15:16:57 | DEBUG | whisperforge | _load_user_preferences:231 | Loaded preferences for user: 21
2025-06-12 15:40:31 | [32mINFO[0m | whisperforge | authenticate_user:87 | Authentication attempt for: test@whisperforge.dev
2025-06-12 15:40:31 | [32mINFO[0m | whisperforge | authenticate_user:129 | User authenticated successfully: test@whisperforge.dev
2025-06-12 15:40:32 | DEBUG | whisperforge | _load_user_preferences:232 | Loaded preferences for user: 21
2025-06-12 15:41:42 | [32mINFO[0m | whisperforge | authenticate_user:87 | Authentication attempt for: test@whisperforge.dev
2025-06-12 15:41:43 | [32mINFO[0m | whisperforge | authenticate_user:129 | User authenticated successfully: test@whisperforge.dev
2025-06-12 15:41:43 | DEBUG | whisperforge | _load_user_preferences:232 | Loaded preferences for user: 21
2025-06-12 15:41:43 | [31mERROR[0m | whisperforge | log_error:144 | 💥 NameError: name 'track_page' is not defined
2025-06-12 15:41:43 | [31mERROR[0m | whisperforge | log_error:146 | Context: Application error
2025-06-12 15:41:43 | [31mERROR[0m | whisperforge | log_error:149 | Traceback:
Traceback (most recent call last):
  File "/Users/kk/Code/whisperforge--prime/app.py", line 1719, in main
    show_main_app()
    ~~~~~~~~~~~~~^^
  File "/Users/kk/Code/whisperforge--prime/app.py", line 830, in show_main_app
    track_page(page.lower().replace(" ", "_"))  # RE-ENABLED
    ^^^^^^^^^^
NameError: name 'track_page' is not defined

